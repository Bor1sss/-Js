<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Общий тест</title>
 
</head>
<body>

    <h1>Общий тест</h1>

    <form>
        

        <div id="box">


        </div>
       
        <button id="Send" type="button">Проверить</button>
    </form>


    <script>

        let questNum=0;
      
        let next=document.getElementById("Send");
    
        next.addEventListener("click",function(e){
            questNum+=1;
            GenerateNext();
            
        })


        var questions = [
            {
                question: "Какая страна является самой большой по территории?",
                options: ["Россия", "Канада", "Китай", "США"],
                correct: [`0`]
            },
            {
                question: "Какая столица находится ближе всего к экватору?",
                options: ["Москва", "Каир", "Кито", "Токио"],
                correct: [`2`]
            },
            {
                question: "Кто написал произведение 'Война и мир'?",
                options: ["Лев Толстой", "Федор Достоевский", "Александр Пушкин", "Иван Тургенев"],
                correct: [`0`]
            },
            {
                question: "Какой химический элемент обозначается как 'O'?",
                options: ["Оксиген", "Олово", "Облепиха", "Органесса"],
                correct: [`0`]
            },
            {
                question: "Кто из перечисленных является известным художником?",
                options: ["Альберт Эйнштейн", "Пабло Пикассо", "Михаил Горбачев", "Мэри Кюри"],
                correct: [`1`]
            },
            {
                question: "В каком году произошло первое космическое полет человека?",
                options: ["1957", "1961", "1969", "1975"],
                correct: [`1`]
            },
            {
                question: "Какое животное является символом Австралии?",
                options: ["Кенгуру", "Коала", "Крокодил", "Комодский варан"],
                correct: [`0`]
            },
            {
                question: "Какой из этих видов спорта играется с мячом?",
                options: ["Бокс", "Теннис", "Бокс на траве", "Бадминтон"],
                correct: [`1`, `3`]
            },
            {
                question: "Какой океан самый большой?",
                options: ["Тихий", "Атлантический", "Индийский", "Северный Ледовитый"],
                correct: [`0`]
            },
            {
                question: "Кто является создателем теории относительности?",
                options: ["Исаак Ньютон", "Альберт Эйнштейн", "Нильс Бор", "Уолтер Уайт"],
                correct: [`1`]
            },
            {
                question: "Какая планета является самой большой в Солнечной системе?",
                options: ["Марс", "Юпитер", "Венера", "Сатурн"],
                correct: [`1`]
            },
            {
                question: "Как называется самая высокая гора в мире?",
                options: ["Мак-Кинли", "Килиманджаро", "Эльбрус", "Эверест"],
                correct: [`3`]
            }
        ];

     

     
      
        let score=0;
        GenerateNext();
        function Check(){
            var ans = Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(checkbox => checkbox.value);
                let isCorrect=false;


          
                
                if (Contain(ans,questions[questNum-1].correct)) {
                    isCorrect=true;
                } else {
                    isCorrect=false;
                }

                if(isCorrect){
                return 1;
                }
                else{
                    return 0;
                }


        }
        function GenerateNext(){
        let box=document.getElementById("box");
        if(questNum!=0){
        score+=Check();
        }
        
        
        if(questNum!=12){
            for (var i = questNum; i < questNum+1; i++) {
                box.innerHTML=("<p>" + questions[i].question +  "\t Вопрос \t"+ (questNum+1) + "</p>");
                    for (var j = 0; j < questions[i].options.length; j++) {
                        box.innerHTML+=("<label><input type='checkbox' name='question" + i + "' value='" + j + "'>" + questions[i].options[j] + "</label><br>");
                    }
            }
            }
            else{
            Submit();
            questNum=0;
            GenerateNext();
            }   
        function Submit(){
            alert("Вы набрали " + score + " из " + questions.length + " баллов.");
        }
    }
      

    function Contain(arrA, arrB) {
                return arrA.length === arrB.length &&
                    arrA.every(elementA => arrB.includes(elementA)) &&
                    arrB.every(elementB => arrA.includes(elementB));
            }
        

    </script>
</body>
</html>
